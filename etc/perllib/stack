    unshift(@history, $previous);
    pop(@history) if ($#history > $max_hist);

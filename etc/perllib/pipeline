    unshift(@history, $previous);
    shift(@history) if ($#history > $max_hist);

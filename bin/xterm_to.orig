#!/bin/sh
# 
# Usage: /usr/global/bin/xterm_to HOSTNAME
# 
# Will create an xterm on HOSTNAME displaying on
# the most recent setting of DISPLAY, typically
# through a tunnel set up via ssh to chemistry.
# We assume that HOSTNAME doesn't share chemistry's
# /home/.Xauthority.
#
# Requirements:
# - need .rhosts access to destination HOSTNAME
# - need the following in $HOME/.login.personal:
# ---------------------------------------------------
#    # Record the latest $DISPLAY setting, to be
#    # used in $ugb/xterm_to and xsession_to scripts.
#    if ($?DISPLAY) then
#      echo $DISPLAY >! ~/.latest_display
#    endif
# ---------------------------------------------------
#
remote_host="$1"
name=`basename $0`
DISPLAY=`cat $HOME/.latest_display`
rcp $HOME/.Xauthority ${remote_host}:
if [ $remote_host = 'spectroscopy' ] ; then
  rsh $remote_host "/usr/X11R6/bin/nxterm -ls -display $DISPLAY"
else
  rsh $remote_host "xterm -ls -display $DISPLAY"
fi

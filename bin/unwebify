#!/usr/bin/perl
#
# A perl-5 script to remove html tags
#
$name = $0; $name =~ s'.*/''; # remove path--like basename
$usage = "usage:\n$name";

$/=''; # $*=1; #enable paragraph mode & mulitline pattern matching.

while (<>) {
# if ( /^\s*$|^$/ ) { print; next; }
  s/<[^>]+>/ /gm;
  s/\&nbsp;/ /gm;
  s/\&copy;/\@/gm;
  s/\&gt;/>/gm;
  s/\&lt;/</gm;
  s/\&amp;/&/gm;
  s/\&quot;/"/gm;
  s/%([a-fA-F0-9][a-fA-F0-9])/pack("C", hex($1))/egm;
  s/\&\#(10);//egm;
  s/\&\#(\d+);/chr($1)/egm;
  s,^\s*|[ \t]*$,,gm;
  s,\s\s+, ,gm;
  print $_;
}

exit 0;

__END__

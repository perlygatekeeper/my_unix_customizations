#!/usr/bin/env perl
#
# A perl script to mimic grep -l
#
$name = $0; $name =~ s'.*/''; # remove path--like basename
$usage = "usage:\n$name REGEXP FILENAME(S)";

$regexp=shift;
$eof=0;

while (<>) {
  if ($gotonexteof) {
    while (<>) {
      if (not eof) {
#       print $gotonexteof++ . " > $ARGV: $_";
      } else {
        last;
      }
    }
    $gotonexteof=0;
  } else {
#   print "$ARGV\n";
    if (/$regexp/i) {
      print "$ARGV: $_";
      $gotonexteof=1 unless eof;
    }
  }
}

exit 0;

__END__
